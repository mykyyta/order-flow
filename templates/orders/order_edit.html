{% extends "base_form_page.html" %}
{% load static %}

{% block title %}Підправити замовлення #{{ order.id }}{% endblock %}

{% block form_content %}
<form method="post" action="{% url 'order_edit' order.id %}">
    {% csrf_token %}

    <div class="space-y-4">
        <div>
            <label for="id_model" class="form-label">Модель</label>
            {{ form.model }}
            {% if form.model.errors %}<p class="form-error">{{ form.model.errors.0 }}</p>{% endif %}
        </div>

        <div>
            <label for="id_color" class="form-label">Колір</label>
            {{ form.color }}
            {% if form.color.errors %}<p class="form-error">{{ form.color.errors.0 }}</p>{% endif %}
        </div>

        <div class="flex flex-wrap items-center gap-x-6 gap-y-2">
            <label class="flex items-center gap-2 cursor-pointer">
                {{ form.etsy }}
                <span class="text-sm font-medium text-slate-700">Etsy</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
                {{ form.embroidery }}
                <span class="text-sm font-medium text-slate-700">Вишивка</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
                {{ form.urgent }}
                <span class="text-sm font-medium text-slate-700">Терміново</span>
            </label>
            {% if form.etsy.errors or form.embroidery.errors or form.urgent.errors %}
            <p class="form-error w-full">{{ form.etsy.errors.0|default:form.embroidery.errors.0|default:form.urgent.errors.0 }}</p>
            {% endif %}
        </div>

        <div>
            <label for="id_comment" class="sr-only">Коментар</label>
            {{ form.comment }}
            {% if form.comment.errors %}<p class="form-error">{{ form.comment.errors.0 }}</p>{% endif %}
        </div>

        <div class="flex flex-wrap items-center gap-3 pt-1">
            <button type="submit" class="btn-primary">Зберегти</button>
            <a href="{% url 'order_detail' order.id %}" class="btn-secondary">Скасувати</a>
        </div>
    </div>
</form>
{% endblock %}

{% block form_page_footer %}
<div class="mt-4">
    <a href="{% url 'order_detail' order.id %}" class="link-back">&larr; Назад до замовлення #{{ order.id }}</a>
</div>
{% endblock %}
